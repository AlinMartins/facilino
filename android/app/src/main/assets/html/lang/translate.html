<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script type="text/javascript" src="../javascript/jquery/dist/jquery.min.js"> </script>
</head>
<body>
<h3>Facilino Translation Tool</h3>
<form>
<div>Your name: <input name="name" size="100%"/><p></p></div>
<div>Translation language: <select id="trans">
<option value='en-GB'>en-GB</option>
<option value='es-ES'>es-ES</option>
<option value='ca-ES'>ca-ES</option>
<option value='gl-ES'>gl-ES</option>
<option value='eu-ES'>eu-ES</option>
<option value='de-DE'>de-DE</option>
<option value='fr-FR'>fr-FR</option>
<option value='it-IT'>it-IT</option>
<option value='pt-PT'>pt-PT</option>
<option value='pl-PL'>pl-PL</option>
<option value='ru-RU'>ru-RU</option>
<option value='nb-NO'>nb-NO</option>
</select> <p></p></div>
<div>
<div class="wrapper">
<div class="profile">
   <table id= "keys_translations" border="2">
	<thead>
            <th>Original Text</th>
            <th>Translated/Corrected Text</th>
    </thead>
    <tbody>
    </tbody>
   </table>
</div>
</div>
</div>
<div>
<p></p>
<input name="submit" type="button" value="Submit" onclick="submitData()"/>
</div>
<form>
<script>
document.getElementById("trans").onchange = function() {changeFunction()};
changeFunction();
function changeFunction() {
    var origLang='en-GB';
	var transLang=document.getElementById("trans").value;
	var tableHeaderRowCount = 1;
	var table = document.getElementById("keys_translations");
	var tableRows = table.getElementsByTagName('tr');
	var rowCount = tableRows.length;
	for (var i = tableHeaderRowCount; i < rowCount; i++) {
        table.deleteRow(tableHeaderRowCount);
    }
	$.ajax({
		url: 'facilino.json',
		dataType: "text"
		}).done(function(text) {
		var data = $.parseJSON(text);
		//console.log(data);
		var gl=["Mine Blocks","funksjoner","Kontroll","Matte","Bryter ut av det inneholdende sløyfe.","Hopp over resten av denne sløyfen, og fortsette med neste iterasjon.","Mens betingelsen er sann, så gjør de uttalelser.","Mens betingelsen er usann, så gjør de uttalelser.","Grunnleggende I / O","Skjerm","Logikk","Kontroller hvis begge innganger er like.","Sjekker om begge inngangene er forskjellige.","Kontrollerer om den første inngangen er mindre enn den andre.","Kontrollerer om den første inngangen er mindre enn eller lik den andre.","Kontrollerer om den første inngang er større enn den andre.","Kontrollerer om den første inngang er større enn eller lik den andre.","Sjekker om begge inngangene er sanne.","Sjekker om enten innganger er sanne.","Sjekker om innganger er forskjellige.","Kontrollerer om innganger er like.","Hvis da ...","Returnerer kvadratroten av et tall.","Returnerer absoluttverdien til et tall.","Returnerer negasjon av et tall.","Returnerer den naturlige logaritmen for et tall.","Returnerer grunn 10 logaritmen for et tall.","Returnerer e til kraften i et tall.","Returnerer 10 til kraften i et tall.","Kommunikasjon","Tekst","variabler","Lyd","Setup","Loop","Blokker i oppsettet vil bli utført ved start, og blokkene i Loop vil bli gjentatt kontinuerlig.","function_without_return","En funksjon uten noen returverdi.","gjøre","function_with_return","komme tilbake","En funksjon med en returverdi.","Kaller en funksjon uten returverdi.","Kaller en funksjon med en returverdi.","hvis","Hvis betingelsen er sann, returnerer deretter denne verdien.","komme tilbake","Returnerer en verdi","Funksjonskall uten samsvarende definisjon","Advarsel: Denne blokken kan bare brukes i en funksjon med en returverdi.","variabel:","parametere","samtidig som","før","telle med","fra","til","gjøre","bryte ut","fortsette med neste iterasjon","av sløyfe","gjøre","Vent (ms)","Venter den angitte tid i millisekunder (ms)","Tid fra start (oss)","Antall mikrosekunder siden programmet startet (lang heltall)","Gjøre","Mens betingelsen er sann, fortsetter å gjøre de uttalelser.","Utfør Arduino kode","Utfører Arduino kode (tekst). Brukes med forsiktighet, da det lett kan bryte programmet og hindre den fra å sette sammen.","bytte om","Advarsel: Denne blokken kan bare brukes i en sløyfe.","eller hvis","Legg en tilstand til om blokken.","ellers","Legg en endelig, catch-all tilstand til om blokken.","hvis","Legge til, fjerne eller omorganisere deler for å rekonfigurere dette hvis blokken.","Hvis betingelsen er sann, utføre uttalelser.","sak","misligholde","og","eller","xor","xnor","innebærer","ikke","Returnerer det motsatte av inngangen.","EKTE","FALSK","Returnerer enten sant eller usant.","Antall","kvadratrot","absolutte","Returnerer resten av delingen av de to inngangs tallene.","Kart","Fra [","-","]","til [","Re-kartlegger input fra et visst område til et annet.","Kart","Verdien til [0-","]","Re-kartlegger input fra [0-1023] til en annen.","tilfeldig mellom","og","Returnerer et tilfeldig tall mellom to grenser.","til nummer","Integer","Long Integer","byte","Flyte","Kastet en rekke","sinusoid","amplitude","Frekvens","Fase","offset","Tid","Genererer en sinusformet bølge. Amplitude: Wave amplitude; Frekvens: Wave frekvensen i Hz; Fase: Wave fase i radianer; Offset: Korreksjonsverdien tilsatt til bølgen; Tid: Tid øyeblikk der bølgen evalueres.","Var","Returnerer verdien til en variabel.","Var","=","Angir verdien av en variabel.","Erklærer global variabel","=","Erklærer og definerer en global variabel av typen int eller streng.","av type","string","boolean","Erklærer og definerer en global variabel av den gitte type.","erklærer variabel","=","Erklærer, og definerer en lokal variabel av typen int eller streng.","av type","Erklærer, og definerer en lokal variabel av den gitte type.","Erklærer GLOBAL delte variabelen","Erklærer og definerer en GLOBAL delt (flyktig, som skal brukes i oppgaver og interrupts) variabel av den gitte type.","Denne variabelen er ikke deklarert.","Et brev, ord eller tekstlinje.","lage tekst med","Lag et stykke tekst ved å bli sammen en rekke elementer.","til","legge til tekst","Tilføy tekst til variabel% 1.","lengde","Returnerer antall bokstaver (inkludert mellomrom) i den medfølgende tekst.","spesielle Tegn","Tab","Vognretur","Linjeskift","Sitat","Double sitat","Skriver spesielle Tegn.","=","?","Sjekker om begge inngangs strengene er like, uavhengig av saken.","Avling","fra","til","Oppnå en delstreng fra inngangs strengen med caracters mellom de to inngangstall.","Søke","i","Første gang","siste instans","Sjekker om en tekst er funnet i en annen tekststreng. Returnerer indeksen for første / siste instans funnet.","inneholder","uttrykk","Kontrollerer om en tekststreng som inneholder et uttrykk. Returnerer sann eller usann.","Til tekst","Char","element","Legg til et element i teksten.","bli med","Legge til, fjerne eller omorganisere deler for å konfigurere denne tekstblokk.","serie~~POS=TRUNC Tilgjengelig","gjøre","Sjekk været seriellporten er tilgjengelig eller ikke","Serie Les Integer","Første gyldige (lang) heltall fra den serielle bufferen","serie~~POS=TRUNC Skriv ut","Skriver ut data som ASCII-tekst.","serie~~POS=TRUNC println","Skriver ut data som ASCII-tekst og legger til en vognretur (CR).","serie~~POS=TRUNC Les","Leser innkommende serielle data fra seriell port som bytes.","Serie Les String","Leser innkommende serielle data fra seriell port som ASCII-tekst.","Konvertere","Desimal","heksadesimale","Octal","Binary","verdi","Konvertere et tall fra en base til en annen.","Sett timeout [ms]","Sett timeout for serie recepction (i millisekunder).","LCD klart","LCD klart","LCD (2x16)","LCD-Pins","Blokker som definerer LCD","LCD: print","Sett tekstposisjon?","Skriver ut en String i LCD på angitt posisjon eller neste tilgjengelige en.","LCD: setBacklight (",")","Angir bakgrunnsbelysningen på LCD-skjermen.","Avansert Buzzer","pin","Tone","Varighet [ms]","Piezo Buzzer Avansert","AnalogRead PIN","Leser verdien fra en spesifisert digital tapp","analog PIN","verdi","Skriv en verdi mellom 0 og 255 til en bestemt analog utgang PIN","Innebygd LED","stat","PÅ","AV","Veksle","Innebygd lysdiode som er innvendig forbundet med stiften 13","DigitalLes PIN","Leser verdien fra en spesifisert digital tapp","DigitalWrite","PIN","stat","Skriv en verdi i en bestemt digital pin","Set-modus","pin","Modus","Produksjon","Input","Input Pull-Up","Setter digital tapp modus","HØY","LAV","Høy eller lav","analog tapp","Velg PIN-kode.","Digital pin","PWM tapp","Knapp","pin","Knapp","presset","Løslatt","Les pull-up digital inngang","pin","Leser en inngang i pull-up-modus.","Joystick retning","X-aksen Pin","Y-aksen Pin","Joystick","Joystick magnitude","Relay","PIN","Verdi","Stiller stafetten staten","Avstand","Lys","Bevegelse","Omgivende","HTML","Bluetooth definisjon","overføringshastighet","RX","TX","Bluetooth-modul konfigurasjon","Sett navn","Navn","Bluetooth-modul navn innstilling","Bluetooth Motta Command","Motta kommandoer via Bluetooth-modul","Kommando","Avbryt gjenta","Sint","Lykkelig","lei seg","Kjærlighet","lamslått","C4","D4","E4","F4","G4","A4","B4","Framover","bakover","Ikke sant","Venstre","Stoppe","Lukk venstre finger","Åpne venstre finger","Lukk riktig finger","Åpne riktig finger","Lukk grep","Åpne grep","unngå hindringer","Linje Tracker","Svart","Hvit","Venstre hånd opp","Venstre ned","Høyre hånd opp","Høyre ned","Opp med hendene","Hendene ned","Motta en forhåndsdefinert kommando via Bluetooth-modul","Motta en gitt kommando via Bluetooth-modul (byte 0 ~ 255)","Bluetooth Motta telegram","Dekode meldingene mottas via Bluetooth-modul","Telegram","Digital Output","analog Output","Servo","Lyd","LED Matrix","Sender en forhåndsdefinert telegram av den angitte typen","Sender et telegram av den angitte type (kommando)","Decode telegram","pin","Verdi","Dekode et telegram (utdrag data basert på telegramtypen)","Posisjon","Returnerer data på gitt posisjon","Digital Input","analog Input","Sonar","Tekst","Farge","Bluetooth Send telegram","Telegram","Kode telegrammer og sende dem trodde Bluetooth-modul","Bluetooth motta data","Returnerer dataene som mottas av Bluetooth-modul","Bluetooth sende data","Sende","Sender inngangsdata ved hjelp av Bluetooth-modulen","Bluetooth Serial Tilgjengelig","Utføre kommandoer hvis bluetooth serie har data","Definer Wifi","ikke Integrert","integrert","SSID","Passord","overføringshastighet","RX","TX","Wifi modul konfigurasjon (integrert eller ikke integrert)","Åpne Client","IP Server","Havn","Åpne en TCP / IP-forbindelse trodde angitte porten","Lukk Client","Lukker TCP / IP-forbindelse","motta klient","Motta data fra TCP / IP-forbindelse","Send Client","Tekst","Sender data via TCP / IP-forbindelse","HTTP Server","HTML","Lager en webserver base på HTTP-protokollen med ESP8266 modul (ikke integrert)","8x8 matrise","CS","DIN","CLK","vertikal","Horisontal","vertikal 180º","horisontal 180º","Bygg en forhåndsdefinert uttrykk for LED Matrix","Bygg et generisk uttrykk for LED Matrix","Tiltrer Cols / rader for å bygge et uttrykk for LED Matrix.","Bygg en rad for LED Matrix.","Multi-oppgave","gjør alltid","Definer periodiske oppgaver","tilstandsmaskin","Implementerer en tilstandsmaskin","stat","Stat","og","States contatenation","overgang tilstand","til","fra","Overgangen fra en tilstand til en annen tilstand (direkte) eller AND divergens til flere stater (contatenating dem)","Overgang til en tilstand fra en annen tilstand (direkte) eller AND konvergens (sinchronization) fra flere stater (contatenating dem)","Avbryte","pin","Modus","Lav","Endring","stigende flanke","fallende kant","gjøre","Festes den gitte avbruddet","Vent til","verdi1","verdi2","Vent til betingelsen er sann mellom to innganger.","oppgave","Definerer en periodisk oppgave","periodiske oppgaver","Opprinnelige tilstand","Stat","tilstandsmaskin","kommando","Motta en kommando via Bluetooth-modul","Decode melding","telegram","Dekode et telegram som mottas via Bluetooth-modul","Få Avstand","Ekko","Avtrekker","Returnerer avstanden målt ved ultralydføleren.","oppdage kollisjon","Avstand","Kollisjon","Gratis","Detekterer kollisjon eller frie tilfeller basert på en avstand terskel med den ultrasoniske sensoren","Hold avstand","Ref. avstand","Gevinst%","Returnerer hastigheten som skal brukes til roboten for å holde en avstand ved hjelp av den ultrasoniske sensoren","regulerer hastighet","Returnerer hastigheten som skal brukes til roboten for å holde en hastighet for å følge en gjenstand i en gitt avstand ved hjelp av ultrasoniske sensoren","infrarød sensor","PIN","Returnerer den analoge verdi målt ved hjelp av den infrarøde sensor.","Returnerer digital verdi målt ved den infrarøde sensoren.","Lys","Returnerer turn verdien skal gjelde til basen for å følge en linje.","Grå","Diskriminerer mellom tre tilfeller å følge en linje: svart, grå (bare i midten) eller hvit.","Returnerer kalibrert verdien av den hvite fargen på en linje.","Returnerer kalibrert verdien av den svarte fargen på en linje.","kalibrere hvit","Kalibrerer den hvite fargen verdien av en linje.","kalibrere svart","Kalibrerer svart farge verdien av en linje.","RGB LED","PIN-R","PIN-G","PIN B","Farge","Sett en farge på en RGB LED","Fargesensor (ms)","S0","S1","S2","S3","UTE","Leser en farge (i ms)","oppdage farge","Oppdager en farge","kalibrere deteksjon","Min (ms)","Max (ms)","Kalibrerer en farge","Farge","buzzer","PIN","STILLHET","# C4","# D4","# F4","# G4","A4 #","C5","# C5","D5","# D5","E5","F5","# F5","G5","# G5","A5","# A5","B5","Hel","Halv","Fjerdedel","8.","16.","32th","64th","slips","piezo Buzzer","Genererer en stemme med den Piezosummer (virker bare på PIN-3)","Genererer en bølge med et ord","Mic","AO","Leser den analoge verdien av mikrofonen","GJØRE","Leser den digitale verdien av mic (sann dersom volumet er for høyt)","Genererer en melodi (streng med frekvenser og varigheter)","Genererer en musikalsk notat (frekvens og varighet)","Kontinuerlig rotasjon Servo","pin","#¡VALOR!","Vri med klokken","slå countercloclwise","stoppet","Hastighet %","Genererer bevegelser med en kontinuerlig rotasjon servo.","DC Motor","Kyst","Servo","PIN","Grader (0 ~ 180)","Bevege seg mellom 0 ~ 180 grader.","Flytt basen","Venstre","Ikke sant","Lineær (-100 ~ 100)","Turn (-100 ~ 100)","Sende kommandoer til bevegelse servoer (venstre og høyre) fra lineære og vinkelhastigheter.","Send primitive kommandoer til venstre og høyre servoer","Sende kommandoer til bevegelseslikestrømsmotorer (venstre og høyre) fra lineære og vinkelhastigheter.","Send primitive kommandoer til venstre og høyre DC-motorer","Gripper","Sende kommandoer for å sette fingrene åpne eller lukke","Sett","grader","hands","Sende kommandoer for å sette hendene opp eller ned","Temperatur sensor","buss Pin","enheter","Forespørsler og leser 18B20 temperatursensoren i Celsius eller Fahrenheit grader","temperatur oppløsning","Setter Oppløsning","temperatur alarm","Kontrollerer en temperaturalarm","Sett","Høy temperatur","Lav temperatur","Temperatur [° C]","Setter temperatur alarmnivåer","Fahrenheit til Celsius","Konverterer temperatur inn i Celsius grader","Celsius til Fahrenheit","Konverterer temperatur til grader Fahrenheit","fuktighetssensor","pin","Leser DHT11, DHT21, DHT22 fuktighetssensor i%","fuktighet alarm","Kontrollerer en luftfuktighet alarm","Sett","fuktighet høy","lav luftfuktighet","%","Setter fuktighet alarmnivåer","pin","Leser DHT11, DHT21 DHT22 temperatursensor i Celsius grader","regn~~POS=TRUNC sensor~~POS=HEADCOMP","PIN","Leser mengden av vann eller regn (0-1023)","Oppdager vann precense eller regn","regn nivå","Kontrollerer en rainning nivå","Sett","regn intense","regn myk","Verdi","Setter en regner nivå","barometer~~POS=TRUNC sensor","Leser barometrisk trykk fra BMP180 sensor i Pa","Leser temperaturen fra BMP180 barometrisk sensor i Celsius grader","Sealevel trykket (Pa)","Estimater høyde. Hvis sealevel trykket er gitt estimering er mer nøyaktig. Ellers, et trykk på 101 325 Pa ved havoverflaten er det antatt.","stråling sensor","mW / cm2","UV-indeks","PIN","Leser strålingsnivået fra UV-sensor Guva-S12SD)","HTML-dokument","Oppretter en HTML-dokument","HTML Tag","Attributter","Oppretter en HTML-tag","Oppretter et attributt for en HTML-tag","Lager en tekst for å inkludere den i en HTML-kode","Oppretter en formatert tekst for å inkludere den i en HTML-kode","Egenskap"];
		console.log(gl);
		var count = 0;
		console.log(transLang);
		$.each(data.langs[origLang].keys, function (key, text) {
			var tblRow = "";
			if (data.langs[transLang]==undefined)
				data.langs[transLang]={keys: {}};
			if (data.langs[transLang].keys[key]==undefined)
			  data.langs[transLang].keys[key]='';
			if (data.langs[transLang].keys[key]=='')
			{
				data.langs[transLang].keys[key]=gl[count];
			}
			tblRow += "<tr>" + "<td width=\""+(window.innerWidth/2)+"px\">" + text + "</td>" + "<td width=\""+(window.innerWidth/2)+"px\"><input type=\"text\" style=\"width: "+(window.innerWidth/2)+"px;\" name=\""+key+"\" value=\""+data.langs[transLang].keys[key]+"\"/></td></tr>";
			//tblRow += "<tr>" + "<td width=\""+(window.innerWidth/2)+"px\">" + text + "</td>" + "<td width=\""+(window.innerWidth/2)+"px\">"+data.langs[transLang].keys[key]+"</td></tr>";
			$(tblRow).appendTo("#keys_translations tbody");
			count++;
		});
    });
}

function submitData(){
$.getJSON('facilino.json', function(data) {
	var newData = jQuery.extend(true, {}, data);
	var origLang='en-GB';
	var transLang=document.getElementById("trans").value;
	var table = document.getElementById("keys_translations");
	var rowCount = 1;
	newData.langs[transLang]={keys: {}};
	console.log(data.langs[origLang].keys);
	$.each(data.langs[origLang].keys, function (key, text) {
		newData.langs[transLang].keys[key]=table.rows[rowCount].cells[1].firstChild.value;
		rowCount++;
	});
	var json_str = JSON.stringify(newData,null,'\t');
	saveFile('facilino.json', "data:application/json", new Blob([json_str],{type:""}));
});
}

function saveFile (name, type, data) {
    if (data != null && navigator.msSaveBlob)
        return navigator.msSaveBlob(new Blob([data], { type: type }), name);
    var a = $("<a style='display: none;'/>");
    var url = window.URL.createObjectURL(new Blob([data], {type: type}));
    a.attr("href", url);
    a.attr("download", name);
    $("body").append(a);
    a[0].click();
    setTimeout(function(){  // fixes firefox html removal bug
        window.URL.revokeObjectURL(url);
        a.remove();
    }, 500);  
}
</script>
</body>
</html>