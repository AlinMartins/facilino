<!DOCTYPE html>
<html >
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/facilino-cuadrado-fondo-transparente-128x128.png" type="image/x-icon">
  <meta name="description" content="Exercise 7">
  <title>Exercise 7</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="facilino.css">
  <link rel="stylesheet" type="text/css" href="javascript/highlight/styles/default.css">
  <script src="javascript/underscore/underscore.js"></script>
    <script src="javascript/highlight/highlight.pack.js"></script>
    <script src="javascript/blockly-bq/blockly_compressed.js"></script>
    <script src="javascript/blockly-bq/blocks_compressed.js"></script>
    <script src="javascript/blockly-bq/arduino_compressed.js"></script>
    <script src="facilino.js"></script>
    <script src="roboblocks_compressed.js"></script>
  <script>
function openFunction(bly) {
    $.ajax({
        type: "GET" ,
        url: bly ,
        dataType: "xml" , async: false,
        success: function(xml) {
			var txt = new XMLSerializer().serializeToString(xml);
			Blockly.mainWorkspace.clear();
			var xmlDOM = Blockly.Xml.textToDom(txt);
			Blockly.Xml.domToWorkspace(xmlDOM,Blockly.getMainWorkspace());
        }
    });
}
function injectInstruction(block,blockDiv) {
	var instructionPreview = document.getElementById(blockDiv);
	var mainWorkspace = Blockly.inject(blockDiv, {readOnly:true, collapse: false});
	mainWorkspace.clear();
	var block = mainWorkspace.newBlock(block);
	block.initSvg();
	block.render();
	block.setMovable(false);
	block.setDeletable(false);
	block.moveBy(15, 10);
	var bbox = block.getHeightWidth();
	instructionPreview.style.height = (bbox.height+25)+ 'px';
	instructionPreview.style.width = (bbox.width+50) + 'px';
	window.dispatchEvent(new Event('resize'));
}
function injectExample(exercise,exampleDiv) {
    var instructionPreview = document.getElementById(exampleDiv);
	var mainWorkspace = Blockly.inject(exampleDiv, {readOnly:true, collapse: false});
	openFunction('exercises/'+exercise);
	var bbox = mainWorkspace.svgBlockCanvas_.getBBox();
	instructionPreview.style.height = (bbox.height+25)+ 'px';
	instructionPreview.style.width = (bbox.width+25) + 'px';
	window.dispatchEvent(new Event('resize'));
}
function showHide(el1,ex,el) {
	var y = document.getElementById(el1);
	if (y.style.display === "none") {
		y.style.display = "block";
	} else {
		y.style.display = "none";
	}
	var x = document.getElementById(el);
	if (y.style.display === "block"){
		var parent = x.parentNode;
		parent.removeChild(x);
		var div = document.createElement("div");
		div.setAttribute("id",el);
		parent.appendChild(div);
		injectExample(ex,el);
	}
}
</script>
  </head>
  
<body>
<div id="menu"></div>
<script>$(function(){$('#menu').load('menu.html');});</script>

  <section class="mbr-section content8 cid-qYnID8HJTn" id="content8-93">

    

    <div class="container">
        <div class="media-container-row title">
            <div class="col-12 col-md-8">
                <div class="mbr-section-btn align-center"><a class="btn btn-primary display-4" href="exercise6.html"><span class="mbri-left mbr-iconfont mbr-iconfont-btn"></span></a>
                    <a class="btn btn-primary display-4" href="exercise8.html"><span class="mbri-right mbr-iconfont mbr-iconfont-btn"></span></a></div>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section content4 cid-qYh0wRA9Kt" id="content4-4z">

    

    <div class="container">
        <div class="media-container-row">
            <div class="title col-12 col-md-8">
                <h2 class="align-center pb-3 mbr-fonts-style display-2">
                    Exercise 7</h2>
                <h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
                    Function Instructions</h3>
                
            </div>
        </div>
    </div>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="image-block" style="width: 50%;">
                <img src="assets/images/multifunctional_shield_keyes.png" width="1400" alt="Multifunction" title="">
                
            </div>
    </figure>
</section>

<section class="mbr-section article content1 cid-qYh0wSDsTN" id="content2-51">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
                <blockquote><strong>Required material. </strong>Arduino Uno, Arduino multifunctional shield.</blockquote>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Preliminaries</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7"><strong>Morse code</strong> is a method of transmitting text information as a series of on-off tones, lights, or clicks that can be directly understood by a skilled listener or observer without special equipment. <strong>The Morse code two types of codes: dash and dot</strong>. The <strong>dot takes one unit</strong> of base time (depends on the sender), while the <strong>dash takes three units</strong> of base time. The <strong>time (without light or sound) between consecutive dashes and dots is one unit</strong> of base time, while the <strong>time between different letters is three units</strong> of base time and between words is seven units of base time. The following table shows the international convention for Morse code:</div>
        </div>
    </div>
</section>

<section class="section-table cid-table" id="table1-62">
  <div class="container container-table" style="width: 62%">
      <div class="table-wrapper">
        <div class="container">    
        </div>
        <div class="container scroll">
          <table class="table" cellspacing="0">
            <thead>
              <tr class="table-heads ">
              <th class="head-item mbr-fonts-style display-7">
                      Sign</th><th class="head-item mbr-fonts-style display-7">
                      Code</th><th class="head-item mbr-fonts-style display-7">
                      Sign</th><th class="head-item mbr-fonts-style display-7">
                      Code</th></tr>
            </thead>
            <tbody>
            <tr> 
			  <td class="body-item mbr-fonts-style display-7">A</td><td class="body-item mbr-fonts-style display-7">· —</td><td class="body-item mbr-fonts-style display-7">T</td><td class="body-item mbr-fonts-style display-7">—</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">B</td><td class="body-item mbr-fonts-style display-7">— · · ·</td><td class="body-item mbr-fonts-style display-7">U</td><td class="body-item mbr-fonts-style display-7">· · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">C</td><td class="body-item mbr-fonts-style display-7">— · — ·</td><td class="body-item mbr-fonts-style display-7">V</td><td class="body-item mbr-fonts-style display-7">· · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">D</td><td class="body-item mbr-fonts-style display-7">— · ·</td><td class="body-item mbr-fonts-style display-7">W</td><td class="body-item mbr-fonts-style display-7">· — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">E</td><td class="body-item mbr-fonts-style display-7">·</td><td class="body-item mbr-fonts-style display-7">X</td><td class="body-item mbr-fonts-style display-7">— · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">F</td><td class="body-item mbr-fonts-style display-7">· · — ·</td><td class="body-item mbr-fonts-style display-7">Y</td><td class="body-item mbr-fonts-style display-7">— · — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">G</td><td class="body-item mbr-fonts-style display-7">— — ·</td><td class="body-item mbr-fonts-style display-7">Z</td><td class="body-item mbr-fonts-style display-7">— — · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">H</td><td class="body-item mbr-fonts-style display-7">· · · ·</td><td class="body-item mbr-fonts-style display-7">0</td><td class="body-item mbr-fonts-style display-7">— — — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">I</td><td class="body-item mbr-fonts-style display-7">· ·</td><td class="body-item mbr-fonts-style display-7">1</td><td class="body-item mbr-fonts-style display-7">· — — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">J</td><td class="body-item mbr-fonts-style display-7">· — — —</td><td class="body-item mbr-fonts-style display-7">2</td><td class="body-item mbr-fonts-style display-7">· · — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">K</td><td class="body-item mbr-fonts-style display-7">— · —</td><td class="body-item mbr-fonts-style display-7">3</td><td class="body-item mbr-fonts-style display-7">· · · — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">L</td><td class="body-item mbr-fonts-style display-7">· — · ·</td><td class="body-item mbr-fonts-style display-7">4</td><td class="body-item mbr-fonts-style display-7">· · · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">M</td><td class="body-item mbr-fonts-style display-7">— —</td><td class="body-item mbr-fonts-style display-7">5</td><td class="body-item mbr-fonts-style display-7">· · · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">N</td><td class="body-item mbr-fonts-style display-7">— ·</td><td class="body-item mbr-fonts-style display-7">6</td><td class="body-item mbr-fonts-style display-7">— · · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">O</td><td class="body-item mbr-fonts-style display-7">— — —</td><td class="body-item mbr-fonts-style display-7">7</td><td class="body-item mbr-fonts-style display-7">— — · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">P</td><td class="body-item mbr-fonts-style display-7">· — — ·</td><td class="body-item mbr-fonts-style display-7">8</td><td class="body-item mbr-fonts-style display-7">— — — · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">Q</td><td class="body-item mbr-fonts-style display-7">— — · —</td><td class="body-item mbr-fonts-style display-7">9</td><td class="body-item mbr-fonts-style display-7">— — — — ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">R</td><td class="body-item mbr-fonts-style display-7">· — ·</td><td class="body-item mbr-fonts-style display-7">.</td><td class="body-item mbr-fonts-style display-7">· — · — · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">S</td><td class="body-item mbr-fonts-style display-7">· · ·</td><td class="body-item mbr-fonts-style display-7">,</td><td class="body-item mbr-fonts-style display-7">— · — · — —</td></tr></tbody>
          </table>
        </div>
        <div class="container table-info-container">
          
        </div>
      </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Worked instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<script>
		window.roboblocksLanguage = 'en-GB';
		window.roboblocksProcessor = 'ArduinoUno';
		window.FacilinoLanguage = window.roboblocksLanguage; 
		window.FacilinoProcessor = window.roboblocksProcessor;
		$.ajax({url: 'lang/facilino.json',dataType: "text",async: false}).done(function(text) {window.langKeys = $.parseJSON(text).langs[window.roboblocksLanguage].keys; window.langKeysEng = $.parseJSON(text).langs['en-GB'].keys;});
		RoboBlocks.load({ zoom: 1 });
		Facilino.load({ zoom: 1});
</script>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
		<div class="media-container-row"><div id='blocklyInstruction1'></div><script>injectInstruction('procedures_defnoreturn','blocklyInstruction1');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction2'></div><script>injectInstruction('procedures_defreturn','blocklyInstruction2');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction3'></div><script>injectInstruction('procedures_callnoreturn','blocklyInstruction3');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction4'></div><script>injectInstruction('procedures_callreturn','blocklyInstruction4');</script></div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise7_1">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercise 7.1: Morse code</div>
            <hr class="line" style="width: 25%;">
        </div>
    </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>S.O.S.</strong>. Implement two functions: <i>dash</i> and <i>dot</i>. The dash and dot functions will turn on and off the blue LED (connected to pin 13). The base time for the dash and dot functions will be fixed to 200ms. Try to transmite and S.O.S message based on the table in the Preliminaries (after the message has been transmitted, you can repeat it if you make a long pause, say of 10000ms). <strong>Hint: </strong><i>The sequence for the dot function is: turn on LED, wait 200ms, turn off LED and wait 200ms. Similarly, the sequence for the dash function is turn on LED, wait 600ms, turn off LED and wait 200ms. Note that, for simplicity, the time needed between consecutive dashes and dots is included, which implies that the time between letters will be 400ms</i>.<button id="but711" type="button" onclick="showHide('solutions711','exercise_7_1_1.bly','exercise711');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
					<li><strong>Improved S.O.S.</strong>. Now, modify previous example and include an integer parameter "n" that represents the number of times you will repeat the instructions within the dash or dot (number of time the LED blinks). Adapt the program to include calls with the new function parameterization, you will see that you save some block instructions. <strong>Hint: </strong><i> Add an integer parameter and repeat the dash and dot sequence inside a </i>for<i> loop instruction</i>.<button id="but712" type="button" onclick="showHide('solutions712','exercise_7_1_2.bly','exercise712');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
					<li><strong>S.O.S. with date</strong>. Implementing the whole Morse code is tedious, so we have decided just to implement the digits. Add to the S.O.S message a date in "dd mm yy" format. The gap (space) between the numbers must be, based on Morse code, 7 base time units. Implement a new function "Morse_digit" that accepts a digit number and transmit the corresponding code sequence (calling previously created dash and dot functions). <strong>Hint: </strong><i>With a </i>switch<i> instruction you can take a digit number and implement the corresponding case. You can also use an </i>if/else if<i> instruction instead. Remember that the dash and dot functions include a delay time of one base time unit, which means that between number you will need to wait 6 base time units or equivalently 1200ms</i>.<button id="but713" type="button" onclick="showHide('solutions713','exercise_7_1_3.bly','exercise713');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
                </ol>
            </div>
        </div>
    </div>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions711" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise711'></div></div>
		</div>
	</section>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions712" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise712'></div></div>
		</div>
	</section>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions713" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise713'></div></div>
		</div>
	</section>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise3_1">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercise 7.2: Encoding Morse code</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>


<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Encode a message</strong>. Implement a <strong>function accepts a string message</strong> (as input argument) and <strong>returns a string</strong>, an encoded version of the message in Morse code. <strong>Each letter</strong> of the message <strong>must be replaced with the corresponding code</strong> shown in the table at the Preliminaries. <strong>After each letter</strong> (or Morse code) you must <strong>add a blank space</strong> ' ' so you are able to differentiate between different consecutive letters once encoded (and appended one after another one). On the other hand, <strong>white spaces</strong> of your message <strong>must be encoded with '|'</strong> to separate consecutive Morse codes. At initialization, <strong>encode whatever message you want and show it on the console</strong> and let's see if someone else is able to decode it. <strong>Hint: </strong><i>In a </i>while<i> loop, iterate to read each of the characters of the string (meanwhile a variable is lower than the string length, initialised at 0 and increasing the variable value on each iteration). Use the </i>Char at<i> instruction to read the character at the given position (the iteration variable in the while loop). Then, with a </i>switch<i> or </i>if<i> instruction, encode each of the characters so that each of them is appended to the end of the string. Before implementing the whole Morse code character set, it is highly recommended that your try first with a reduced character set (just some few letters)</i>.<button id="but721" type="button" onclick="showHide('solutions721','exercise_7_2_1.bly','exercise721');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
                </ol>
            </div>
        </div>
    </div>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions721" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise721'></div></div>
		</div>
	</section>
</section>

<script>
function HideButton(el)
{
	if (localStorage.getItem("solutions")===undefined || localStorage.getItem("solutions")===null)
	{
		var y = document.getElementById(el);
		y.style.display = "none";
	}
}
HideButton('but711'); HideButton('but712'); HideButton('but713'); HideButton('but721');
</script>

<div id="footer"></div>
<script>$(function(){$('#footer').load('footer.html');});</script>

  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/popper/popper.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchswipe/jquery.touch-swipe.min.js"></script>
  <script src="assets/theme/js/script.js"></script>
  
  
</body>
</html>