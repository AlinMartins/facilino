<!DOCTYPE html>
<html >
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/facilino-cuadrado-fondo-transparente-128x128.png" type="image/x-icon">
  <meta name="description" content="Excercise 3">
  <title>Exercise 3</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="facilino.css">
  <link rel="stylesheet" type="text/css" href="javascript/highlight/styles/default.css">
  <script src="javascript/underscore/underscore.js"></script>
    <script src="javascript/highlight/highlight.pack.js"></script>
    <script src="javascript/blockly-bq/blockly_compressed.js"></script>
    <script src="javascript/blockly-bq/blocks_compressed.js"></script>
    <script src="javascript/blockly-bq/arduino_compressed.js"></script>
    <script src="facilino.js"></script>
    <script src="roboblocks_compressed.js"></script>
  <script>
function openFunction(bly) {
    $.ajax({
        type: "GET" ,
        url: bly ,
        dataType: "xml" , async: false,
        success: function(xml) {
			var txt = new XMLSerializer().serializeToString(xml);
			Blockly.mainWorkspace.clear();
			var xmlDOM = Blockly.Xml.textToDom(txt);
			Blockly.Xml.domToWorkspace(xmlDOM,Blockly.getMainWorkspace());
        }
    });
}
function injectInstruction(block,blockDiv) {
	var instructionPreview = document.getElementById(blockDiv);
	var mainWorkspace = Blockly.inject(blockDiv, {readOnly:true, collapse: false});
	mainWorkspace.clear();
	var block = mainWorkspace.newBlock(block);
	block.initSvg();
	block.render();
	block.setMovable(false);
	block.setDeletable(false);
	block.moveBy(15, 10);
	var bbox = block.getHeightWidth();
	instructionPreview.style.height = (bbox.height+25)+ 'px';
	instructionPreview.style.width = (bbox.width+50) + 'px';
	window.dispatchEvent(new Event('resize'));
}
function injectExample(exercise,exampleDiv) {
    var instructionPreview = document.getElementById(exampleDiv);
	var mainWorkspace = Blockly.inject(exampleDiv, {readOnly:true, collapse: false});
	openFunction('exercises/'+exercise);
	var bbox = mainWorkspace.svgBlockCanvas_.getBBox();
	instructionPreview.style.height = (bbox.height+25)+ 'px';
	instructionPreview.style.width = (bbox.width+25) + 'px';
	window.dispatchEvent(new Event('resize'));
}
function showHide(el1,ex,el) {
	if (localStorage.getItem("solutions")===undefined || localStorage.getItem("solutions")===null)
	  return;
	var y = document.getElementById(el1);
	if (y.style.display === "none") {
		y.style.display = "block";
	} else {
		y.style.display = "none";
	}
	var x = document.getElementById(el);
	if (y.style.display === "block"){
		var parent = x.parentNode;
		parent.removeChild(x);
		var div = document.createElement("div");
		div.setAttribute("id",el);
		parent.appendChild(div);
		injectExample(ex,el);
	}
}
</script>
  </head>
  
<body>
<div id="menu"></div>
<script>$(function(){$('#menu').load('menu.html');});</script>

  <section class="mbr-section content8 cid-qYnID8HJTn" id="content8-93">

    

    <div class="container">
        <div class="media-container-row title">
            <div class="col-12 col-md-8">
                <div class="mbr-section-btn align-center"><a class="btn btn-primary display-4" href="exercise2.html"><span class="mbri-left mbr-iconfont mbr-iconfont-btn"></span></a>
                    <a class="btn btn-primary display-4" href="exercise4.html"><span class="mbri-right mbr-iconfont mbr-iconfont-btn"></span></a></div>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section content4 cid-qYh0wRA9Kt" id="content4-4z">

    

    <div class="container">
        <div class="media-container-row">
            <div class="title col-12 col-md-8">
                <h2 class="align-center pb-3 mbr-fonts-style display-2">
                    Exercise 3</h2>
                <h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
                    Digital/Analog inputs and outputs</h3>
                
            </div>
        </div>
    </div>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="image-block" style="width: 50%;">
                <img src="assets/images/multifunctional_shield_keyes.png" width="1400" alt="Multifunction" title="">
                
            </div>
    </figure>
</section>

<section class="mbr-section article content1 cid-qYh0wSDsTN" id="content2-51">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
                <blockquote><strong>Required material. </strong>Arduino Uno, Arduino multifunctional shield.</blockquote>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Worked instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<script>
		window.roboblocksLanguage = 'en-GB';
		window.roboblocksProcessor = 'ArduinoUno';
		window.FacilinoLanguage = window.roboblocksLanguage; 
		window.FacilinoProcessor = window.roboblocksProcessor;
		$.ajax({url: 'lang/facilino.json',dataType: "text",async: false}).done(function(text) {window.langKeys = $.parseJSON(text).langs[window.roboblocksLanguage].keys; window.langKeysEng = $.parseJSON(text).langs['en-GB'].keys;});
		RoboBlocks.load({ zoom: 1 });
		Facilino.load({ zoom: 1});
</script>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
		<div class="media-container-row"><div id='blocklyInstruction2'></div><script>injectInstruction('inout_analog_read','blocklyInstruction2');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction2a'></div><script>injectInstruction('inout_analog_write','blocklyInstruction2a');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction4'></div><script>injectInstruction('pin_analog','blocklyInstruction4');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction1'></div><script>injectInstruction('inout_digital_read','blocklyInstruction1');</script></div>
        <div class="media-container-row"><div id='blocklyInstruction'></div><script>injectInstruction('inout_digital_write','blocklyInstruction');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction5'></div><script>injectInstruction('inout_highlow','blocklyInstruction5');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction3'></div><script>injectInstruction('pin_digital','blocklyInstruction3');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction3a'></div><script>injectInstruction('pin_pwm','blocklyInstruction3a');</script></div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise3_1">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercise 3.1: Blinking LEDs</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Blinking with a fixed time</strong>. Turn on and off red and blue LEDs of multifunctional shield sequentially. They are connected to pins D12 (red) and 13 (blue). When one LED is on, the other LED must be off. The time delay between each sequence must be of 500ms. <strong>Hint: </strong><i>Repeat the sequence blue on and red off; wait 500ms; blue off and red on; wait 500ms</i>.<button id="but311" type="button" onclick="showHide('solutions311','exercise_3_1_1.bly','exercise311');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
					<li><strong>Blinking with a variable time</strong>. Now, modify previous program so that the time is a number between 100 and 1000ms. The time is taken from the analog value of the potentiometer (connected to analog input A0). The analog value is a number between 0 and 1023 that must be converted to a a number between 100 and 1000. <strong>Hint: </strong><i>Use the map instruction (in Math) to convert the numbers</i>.<button id="but312" type="button" onclick="showHide('solutions312','exercise_3_1_2.bly','exercise312');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
                </ol>
            </div>
        </div>
    </div>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions311" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise311'></div></div>
		</div>
	</section>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions312" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise312'></div></div>
		</div>
	</section>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise3_2">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercise 3.2: Good reflexes!</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Push the switch on blue LED</strong>. Following the ideas of <a href="exercise3.html#exercise3_1">Exercise 3.1</a> make initially the LEDs blick with a delay time of 500ms. If the button (connected to pin D2) is pushed when the blue LED is on, we will decrement the delay time by an amount of 50ms. <strong>Hint: </strong><i>Right after waiting the corresponding time while the blue LED is still on check if the switch button (in D2) has been pushed (LOW value). If so, then decrement the time<i>.<button id="but321" type="button" onclick="showHide('solutions321','exercise_3_2_1.bly','exercise321');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
					<li>Now, modify previous program so that the decreasing condition is that the button is pushed and the delay time is greater or equal than 100ms (to avoid having delays below 50ms). <strong>Hint: </strong><i>The condition now includes an AND with the previous condition and the new condition</i>.<button id="but322" type="button" onclick="showHide('solutions322','exercise_3_2_2.bly','exercise322');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
                </ol>
            </div>
        </div>
    </div>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions321" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise321'></div></div>
		</div>
	</section>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions322" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise322'></div></div>
		</div>
	</section>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise3_3">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercise 3.3: Crazy colours</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Random colours</strong>. The aim is to generate a random colour on the RGB LED every 500ms (red LED is connected to pin D9; green LED is connected to pin D10 and blue LED is connected to pin D11). <strong>Hint: </strong><i>To generate colours covering the whole RGB color-space, you can use PWM signals on each individual LED (a good programming style will use pins marked with the PWM signal). Random number can be generated with the corresponding instruction in the Math category</i>.<button id="but331" type="button" onclick="showHide('solutions331','exercise_3_3_1.bly','exercise331');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
					<li><strong>Colour sweep</strong>. Now, generate a full colour sweep on each of the channels with a delay time of 100ms between each colour. <strong>Hint: </strong><i>Implement three nested loops, one for each colour</i>.<button id="but332" type="button" onclick="showHide('solutions332','exercise_3_3_2.bly','exercise332');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button></li>
                </ol>
            </div>
        </div>
    </div>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions331" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise331'></div></div>
		</div>
	</section>
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions332" style="display:none">
		<div class="container">
			<div class="media-container-row"><div id='exercise332'></div></div>
		</div>
	</section>
</section>

<script>
function HideButton(el)
{
	if (localStorage.getItem("solutions")===undefined || localStorage.getItem("solutions")===null)
	{
		var y = document.getElementById(el);
		y.style.display = "none";
	}
}
HideButton('but311'); HideButton('but312'); HideButton('but321'); HideButton('but322'); HideButton('but331'); HideButton('but332');
</script>
<div id="footer"></div>
<script>$(function(){$('#footer').load('footer.html');});</script>


  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/popper/popper.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchswipe/jquery.touch-swipe.min.js"></script>
  <script src="assets/theme/js/script.js"></script>
  
  
</body>
</html>