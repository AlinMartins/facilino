<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'/>
<!--<script src='../../javascript/blockly-bq/blockly_compressed.js'></script>-->
<!--<script src='../../javascript/blockly-bq/arduino_compressed.js'></script>-->
<!--<script src='../../javascript/jquery/dist/jquery.min.js'></script>-->
<!--<script src='../../lang/en.js'></script>-->
<!--<script src='../../javascript/blockly-bq/blocks_compressed.js'></script>-->
<!--<script src='../../blocks.js'></script>-->
<style>.button_wrapper {
  text-align: center;
  color: red;
}
.button {
  background-color: #2e2efe;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
}
 h4 { margin-top: 20px; }
 h5 { margin-top: 10px;}

</style>
<script>
function openFunction(bly) {
    $.ajax({
        type: "GET" ,
        url: bly ,
        dataType: "xml" , async: false,
        success: function(xml) {
			var txt = new XMLSerializer().serializeToString(xml);
			Blockly.mainWorkspace.clear();
			var xmlDOM = Blockly.Xml.textToDom(txt);
			Blockly.Xml.domToWorkspace(xmlDOM,Blockly.getMainWorkspace());
        }
    });
}
function injectInstruction(block,blockDiv) {
	var instructionPreview = document.getElementById(blockDiv);
	var mainWorkspace = Blockly.inject(blockDiv, {readOnly:true, collapse: false});
	mainWorkspace.clear();
	var block = mainWorkspace.newBlock(block);
	block.initSvg();
	block.render();
	block.setMovable(false);
	block.setDeletable(false);
	block.moveBy(15, 10);
	var bbox = block.getHeightWidth();
	instructionPreview.style.height = (bbox.height+25)+ 'px';
	instructionPreview.style.width = (bbox.width+50) + 'px';
	window.dispatchEvent(new Event('resize'));
}
function injectExample(example,exampleDiv) { 
	var mainWorkspace = Blockly.inject(exampleDiv, {readOnly:true, collapse: false});
	openFunction('doc/examples/'+example);
var bbox = mainWorkspace.svgBlockCanvas_.getBBox();
$('#'+exampleDiv).height((bbox.height+25)+'px');
$('#'+exampleDiv).width((bbox.width+25)+'px');

	window.dispatchEvent(new Event('resize'));
}
</script>
</head>
<body>
<h3 id="up">Interrupción</h3>
<h4>Instrucción</h4>
<div id='blocklyInstruction'></div><script>injectInstruction('attachInterrupt','blocklyInstruction');</script>
<h4>Descripción</h4>
<p>Gestiona las interrupciones 2 y 3 de Arduino (UNO y compatibles). Los pines 2 y 3 de Arduino pueden soportar interrupciones del modo "estado bajo", "cambio", "flanco de subida" o "flanco de bajada". El código incluido dentro de la interrupción es prioritario con respecto al código del bucle principal.</p>
<h4>Requisitos</h4>
Licencia de Facilino
<h4>Desplegables</h4>
<ul>
   <li>Interrupción: Interrupción a utilizar (2 o 3 en procesadores compatibles con Arduino UNO).</li>
   <li>Modo: Modo de la interrupción, "estado bajo", "cambio", "flanco de subida" o "flanco de bajada".</li>
</ul>
<h5>Instrucciones aplilables</h5>
<ul>
  <li>Hacer: Conjunto de instrucciones a realizar en el caso que se active la interrupción.</li>
</ul>
<h4>Ejemplo</h4>
En este ejemplo la corriente de un motor se corta si se detecta que un intruso ha invadido un área de seguridad (representado por el pulsador). Al tratarse de un aspecto de seguridad, el código ha sido incluido dentro de una interrupción.
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/dyor_31_in_1_relay_example.bly')">Abrir</button></p>
Se perderán todos los cambios!
</div>
<h5>Circuito</h5>
<image src="doc/circuits/relay_example_bb.png" title="relay_example_bb" alt="relay_example_bb"></image>
<h5>Código Facilino</h5>
<div id='example'></div><script>injectExample('dyor_31_in_1_relay_example.bly','example');</script>
<p><image src="doc/common/home.png" title="home" alt="home" style="cursor: pointer;" onClick='$(function(){$("#doc").load("doc/es-ES/index.html");});'></image> | <image src="doc/common/category.png" title="category" alt="category" style="cursor: pointer;" onClick='$(function(){$("#doc").load("doc/es-ES/categories.html");});'></image> | <image src="doc/common/settings.png" title="settings" alt="settings" style="cursor: pointer;" onClick='$(function(){$("#doc").load("doc/es-ES/settings.html");});'></image> | <image src="doc/common/language.png" title="language" alt="language" style="cursor: pointer;" onClick='alert("Quieres colaborar en traducir Facilino a tu idioma? Por favor, contacta con soporte@roboticafacil.es")'></image> | <image src="doc/common/bug-fixing.png" title="bug-fixing" alt="bug-fixing" style="cursor: pointer;" onClick='alert("Has encontrado algún fallo? Por favor, contacta con soporte@roboticafacil.es")'></image></p>
</body>
</html>