<html>
<head>
<style>.button_wrapper {
  text-align: center;
  color: red;
}
.button {
  background-color: #2e2efe;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
}
</style>
</head>
<body>
<h3 id="up">Receive command</h3>
<h4>Instruction</h4>
<p><image src="doc/en-GB/img/dyor_bluetooth_app.png" title="dyor_bluetooth_app" alt="dyor_bluetooth_app"></image></p>
<h4>Description</h4>
<p>Receives bluetooth commands from an external application. Executes a set of instructions based on the received command. It has an option to repeat a command, it means that once sent, it is internally executed again until the '0' (cancel repeat) command is received.</p>
<h4>Requirements</h4>
<p>Facilino's License</p>
<p>Use in conjunction with instruction:</p>
<p><image src="doc/en-GB/img/dyor_bluetooth_def.png" title="dyor_bluetooth_def" alt="dyor_bluetooth_def" style="cursor: pointer;" onClick="$(function(){$('#doc').load('doc/en-GB/dyor_bluetooth_def.html');});"></image></p>
<p><image src="doc/en-GB/img/dyor_bluetooth_command.png" title="dyor_bluetooth_command" alt="dyor_bluetooth_command" style="cursor: pointer;" onClick="$(function(){$('#doc').load('doc/en-GB/dyor_bluetooth_command.html');});"></image></p>
<h5>Previous Versions</h5>
In previous versions of Facilino, this instruction had configurable TX and RX pins. This option has been removed to simplify the aspect of the instruction. You must make sure that you use the bluetooth module definition instruction for correct operation.
<h4>Mutator</h4>
Drag and drop the commands to decode in the container:
<h5>Container</h5>
<p><image src="doc/en-GB/img/dyor_bluetooth_app_app.png" title="dyor_bluetooth_app_app" alt="dyor_bluetooth_app_app"></image></p>
<h5>Elements</h5>
<p><image src="doc/en-GB/img/dyor_bluetooth_app_item.png" title="dyor_bluetooth_app_item" alt="dyor_bluetooth_app_item"></image></p>
<h4>Inputs</h4>
<ul>
   <li>Command: Number of the command to execute.</li>
   <li>Repeat: If checked, remember the command to repeat the instructions every iteration until the command 0 is sent.</li>
</ul>
<h4>Stacks</h4>
<ul>
  <li>Do: Set of instructions to execute in case of receiving the command.</li>
</ul>
<h4>Example 1</h4>
In this example, a set of commands is received through the bluetooth module. These are predefined commands to be used on DYOR robot and must implement specific instructions, such as the control of the LEDs matrix.
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/dyor_bluetooth_app_example.bly')">Open</button></p>
All changes will be lost!
</div>
<h5>Circuit</h5>
<image src="doc/circuits/bluetooth_led_matrix_example_bb.png" title="bluetooth_led_matrix_example_bb" alt="bluetooth_led_matrix_example_bb"></image>
<h5>Facilino Code</h5>
<image src="doc/en-GB/img/dyor_bluetooth_app_example.png" title="dyor_bluetooth_app_example" alt="dyor_bluetooth_app_example"></image>
<h4>Example 2</h4>
In this example ASCII characters are read through bluetooth. If the user sends a '0' (30 in ASCII), two LEDs are connected to pins 5 and 6. If the user sends a '1' (31 to ASCII), the LED connected to pin 6 will light, whereas if a '2' (32 in ASCII) is sent, the LED connected to pin 5 will light up. The '3' (33 in ASCII) command will disable the LEDs.
<div class="button_wrapper">
<p><button align="center" class="button" style="cursor: pointer;" onClick="openFunction('doc/examples/dyor_bluetooth_app_example2.bly')">Open</button></p>
All changes will be lost!
</div>
<h5>Circuit</h5>
<image src="doc/circuits/bluetooth_leds_example_bb.png" title="bluetooth_leds_example_bb" alt="bluetooth_leds_example_bb"></image>
<h5>Facilino Code</h5>
<image src="doc/en-GB/img/dyor_bluetooth_app_example2.png" title="dyor_bluetooth_app_example2" alt="dyor_bluetooth_app_example2"></image>
<script>
function openFunction(bly) {
    $.ajax({
        type: "GET" ,
        url: bly ,
        dataType: "xml" ,
        success: function(xml) {
			var txt = new XMLSerializer().serializeToString(xml);
			Blockly.mainWorkspace.clear();
			var xmlDOM = Blockly.Xml.textToDom(txt);
			Blockly.Xml.domToWorkspace(xmlDOM,Blockly.getMainWorkspace());
        }
    });
}
</script><p><image src="doc/common/home.png" title="home" alt="home" style="cursor: pointer;" onClick="$(function(){$('#doc').load('doc/en-GB/index.html');});"></image> | <a href="#up"><image src="doc/common/up.png" title="up"></image></a> | <image src="doc/common/category.png" title="category" alt="category" style="cursor: pointer;" onClick="$(function(){$('#doc').load('doc/en-GB/categories.html');});"></image> | <image src="doc/common/language.png" title="Language" alt="Language" style="cursor: pointer;" onClick="alert('Do you want to colaborate in translating Facilino to your language? Please, contact with soporte@roboticafacil.es')"></image> | <image src="doc/common/bug-fixing.png" title="bug-fixing" alt="bug-fixing" style="cursor: pointer;" onClick="alert('Have you found a bug? Please, contact with soporte@roboticafacil.es')"></image></p>
</body>
</html>